function [ cmat, clipflag ] = clipwarn( mat, range )% CLIPWARN  Clip values to a specified range, and show a warning if any%           values are actually clipped% % [ cmat, clipflag ] = clipwarn( mat, range )% 08-Jun-04 -- created (RFM)% initializecmat=mat;clipflag=0;% find min and maxminm = min(mat(:));maxm = max(mat(:));% check minif minm<range(1)	cmat=max(cmat,range(1));	clipflag=1;end% check maxif maxm>range(2)	cmat=min(cmat,range(2));	clipflag=1;end% show warningif clipflag	warning(sprintf('encountered and clipped values outside [%.2f,%.2f]; range was [%.2f,%.2f]',range,minm,maxm));endreturn